{% extends "report/layout.html" %}
{% block content %}

<style>
    /*table表格宽度固定，同时td内容过长也不会被撑开*/
    table {
        table-layout: fixed;
        word-break: break-all;
    }

    th {
        text-align: center;
    }

    td {
        text-align: center;
    }

    p {
        text-align: center;
    }
</style>

<body>
    <div class="container">
        <form action="{% url 'verifyagain' %}" method="POST">
            <input hidden="hidden" value="{{instrument_num}}" name="instrument_num">
            <input hidden="hidden" value="{{Detectionplatform}}" name="Detectionplatform">
            <input hidden="hidden" value="{{group}}" name="group">
            <input hidden="hidden" value="{{project}}" name="project">
            <input hidden="hidden" value="{{platform}}" name="platform">
            <input hidden="hidden" value="{{manufacturers}}" name="manufacturers">
            <input hidden="hidden" value="{{verifyoccasion}}" name="verifyoccasion">
            <h2>基质效应验证结果</h2>
            {%for key,value in dicMatrix_effect.Matrix_effect_dict.items %}
            <table border="1" cellpadding="13" align="center">
                <caption>
                    <h4>{{key}}验证结果</h4>
                </caption>
                <tr>
                    <th>样本编号</th>
                    <th>Area</th>
                    <th>IS Area</th>
                    <th>Area/IS Area</th>
                    <th>Area/IS Area的平均值</th>
                    <th>混合样本Area/IS Area的理论值</th>
                    <th>偏差(%)</th>
                </tr>

                {%for i,j in value.items %}
                <tr>
                    <td rowspan="3">{{i}}</td>
                    <td>{{j.0}}</td>
                    <td>{{j.1}}</td>
                    <td>{{j.2}}</td>
                    <td rowspan="3">{{j.9}}</td>
                    <td rowspan="3">{{j.10}}</td>
                    <td>{{j.11}}</td>
                </tr>
                <tr>
                    <td>{{j.3}}</td>
                    <td>{{j.4}}</td>
                    <td>{{j.5}}</td>
                    <td>{{j.12}}</td>
                </tr>
                <tr>
                    <td>{{j.6}}</td>
                    <td>{{j.7}}</td>
                    <td>{{j.8}}</td>
                    <td>{{j.13}}</td>
                </tr>
                {% endfor %}
            </table>
            <br>
            {% endfor %}
            <div><input class="btn btn-primary" id="submit" type="submit" value="继续验证" /></div>
        </form>
        <br>
        <form action="{% url 'returnback' %}" method="POST">
            <div><input class="btn btn-danger" id="submit" type="submit" value="返回" /></div>
        </form>
    </div>

</body>

<script type="text/javascript">
    // 鼠标移动改变背景,可以通过给每行绑定鼠标移上事件和鼠标移除事件来改变所在行背景色
    window.onload = function () {
        // var tr=document.getElementsByTagName("tr");
        // for(var i= 0;i<tr.length;i++)
        // {
        // bgcChange(tr[i]);
        // }

        // }
        // function bgcChange(obj)
        // {
        // obj.onmouseover=function(){
        // obj.style.backgroundColor="#D8D8D8";
        // }
        // obj.onmouseout=function(){
        // obj.style.backgroundColor="#fff";
        // }

        // 将不通过的结果标红，并去除“不通过三个字”
        var td = document.getElementsByTagName("td");
        for (var i = 0; i < td.length; i++) {
            if (td[i].innerHTML.search("(不通过!)") != -1) {
                td[i].innerHTML = td[i].innerHTML.split("(不通过!)")[0]
                td[i].style.color = "red"
            }
        }
    }
</script>
{% endblock %}